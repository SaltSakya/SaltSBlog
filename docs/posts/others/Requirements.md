# 需求文档
此文档将编写预定在未来加入的功能需求，及部分实现方式

## 吃什么
在群内询问吃什么，牙牙给出建议
* 基于时间（可指定）、地点，给出合理建议
### 调用方式
`^牙牙(早上|早(饭|餐)|中午|午(饭|餐)|下午茶|晚上|晚(饭|餐)|夜宵)?(要|该)吃(点|些)什么`
### 输出结果
给出一个/若干建议
### 实现
未定

## 生日祝福
在有人生日的当天，发送生日祝福
### 调用方式
无需主动调用
### 输出结果
在群内 at 寿星，并发送生日祝福
### 实现
* `Date`
  * 记录当前日期
    * 若日期发生变动，修改该值，并祝新一天过生日的群成员生日快乐
* `BirthdayInfo`
  * 记录要祝福的群友
* `UpdateBirthdayInfo()`
  * 更新生日信息，更新文件，若为当天，更新 `BirthdayInfo`
  * 监听事件：
    * `GroupIncreaseHandler` 记录此人的生日信息
    * `GroupDecrease` 删除为此人记录的生日信息
    * `LifeCycleHandler` 记录所有群所有成员的生日信息，只在开启对应选项后，`go-cqhttp` 启动时记录
* `HappyBirthday()`
  * 祝福生日快乐
  * 若日期更新，读取文件，载入今日过生日的群友，发送祝福
  * 若日期未变，且 `BirthdatInfo` 为空，什么也不做
  * 监听事件 `HeartBeatHandler`
* 本地文件 `BirthdayInfo`
  * 结构如下
``` json
{
    "0524":[
        {
            "i": 791969004,// QQ
            "y": "1997",// 生日年份
            "g":[// 所在的群
                "775889917": 2020,//上次生日祝福的年份，若为今年，即代表已发过祝福
                "114514": null//若为空则代表从未发送过祝福
            ]
        },
    ]
}
```
## 搜图功能
在群内要牙牙帮忙搜图，牙牙搜索后进行汇总，返回信息
* [SourceNAO](https://www.saucenao.cn/)
### 调用方式
1. `^牙牙搜图$`
2. 图片/若干图片（一条消息内）
### 输出结果
图片信息汇总
### 实现
未定